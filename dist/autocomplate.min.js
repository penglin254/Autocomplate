/*
** version 1.0.1
 */

!function(a){"use strict";var b=function(b,c){this.$element=b,this.default={border:"solid",fontSize:"10px",data:[],borderColor:"#ddd",isMobile:!1},this.options=a.extend({},this.default,c)};b.prototype={create:function(){var b=a('<div class="auto_container"></div>'),c=this,d=c.$element.offset().left,e=c.$element.offset().top;c.textVal(c.options.data),a("body").append(b),c.search(),c.options.isMobile===!1?(b.css({top:e+c.$element.height()+4,left:d,width:c.$element.width()+4}),c.keyDown()):b.css({top:e+c.$element.height(),left:d,width:c.$element.width()})},keyDown:function(){var b=this,c=-1,d=a("div.auto_container");b.$element.on("keydown",function(e){var f=e.keyCode,g=d.children("div").length-1;13===f?(b.destroy(d.children("div")),c=-1):38===f?g>=c&&c>-1&&c--:40===f?g>c&&c++:8===f&&(c=-1),d.children("div").each(function(b){c==b&&(d.children("div").removeClass("active"),a(this).addClass("active"))}),(38===f||40===f)&&b.$element.val(d.children("div.active").text())})},textVal:function(b){var e,c=a("div.auto_container"),d=a('<div class="auto_child"></div>');for(this.destroy(c.children("div")),d.css({"border-bottom":"1px","border-bottom-style":this.options.border,"border-bottom-color":this.options.borderColor,"font-size":this.options.fontSize}),e=0;e<b.length;++e)c.append(d.clone());c.children("div").each(function(c){a(this).text(b[c])}),this.tap()},search:function(){var b=this;b.$element.on("input",function(){var e,c=new Array,d=a(this).val().length;if(d>0)for(e=0;e<b.options.data.length;e++)"-1"!=b.options.data[e].substring(0,d).indexOf(a(this).val())&&c.push(b.options.data[e]);b.textVal(c)})},destroy:function(a){a.remove()},tap:function(){var b=a("div.auto_container>div"),c=this;b.click(function(){c.$element.val(a(this).text()),c.destroy(b)})},apply:function(){return this.create()}},a.fn.autoComplate=function(a){var c=new b(this,a);return c.apply()}}(window.jQuery||window.Zepto);